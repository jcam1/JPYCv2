
# Êó•Êú¨ÂÜÜ„Çπ„ÉÜ„Éº„Éñ„É´„Ç≥„Ç§„É≥JPYC
## ÁõÆÁöÑ
ÁèæÂú®„ÅØ„Åô„Åß„Å´ÈÅãÁî®„Åï„Çå„Å¶„ÅÑ„ÇãÊó•Êú¨ÂÜÜ„Çπ„ÉÜ„Éº„Éñ„É´„Ç≥„Ç§„É≥JPYC„ÅåÂ≠òÂú®„Åó„Å¶„Åä„Çä„ÄÅ‰æøÂÆú‰∏äÊàë„ÄÖ„ÅØ„ÄåJPYC v1„Äç„Å®„Çà„Çì„Åß„ÅÑ„Çã„ÄÇJPYC v1„ÅØERC20„Éà„Éº„ÇØ„É≥„Åß„ÅÇ„Çã„ÄÇ„Åó„Åã„Åó„ÄÅJPYC v1„Çí„Çπ„Çø„Éº„Éà„Åó„ÅüÂΩìÂàù„Åã„ÇâJPYC„Ç®„Ç≥„Ç∑„Çπ„ÉÜ„É†„ÅåÁõÆË¶ö„Åæ„Åó„ÅÑÊàêÈï∑„ÇíÈÅÇ„Åí„Å¶„Åç„Å¶„Åä„Çä„ÄÅ‰ªäÂæå„Åï„Çâ„Å™„ÇãÊàêÈï∑„ÇíÁõÆÊåá„Åô„Å´„ÅØ„ÅÑ„Åè„Å§„Åã„ÅÆ„Ç≠„Éº„Å®„Å™„ÇãÊ©üËÉΩ„ÇíÂÇô„Çè„Å£„Å¶„ÅÑ„Å™„ÅÑ„ÄÇ‰æã„Åà„Å∞„ÄÅ„Çπ„Éû„Éº„Éà„Ç≥„É≥„Éà„É©„ÇØ„Éà„Çí„Ç¢„ÉÉ„Éó„Ç∞„É¨„Éº„Éâ„Åß„Åç„ÇãUpgradeabilityÊ©üËÉΩ„ÄÅ„Ç≥„É≥„Éà„É©„ÇØ„Éà„Çí‰∏ÄÊôÇÂÅúÊ≠¢„Åß„Åç„ÇãPausabilityÊ©üËÉΩ„ÄÅÁâπÂÆö„ÅÆ„Ç¢„Ç´„Ç¶„É≥„Éà„Çí„Éñ„É©„ÉÉ„ÇØ„É™„Çπ„Éà„Åß„Åç„ÇãblocklistabilityÊ©üËÉΩ„Å™„Å©„ÅåÊåô„Åí„Çâ„Çå„Çã„ÄÇ‰ªäÂõû„ÅÆJPYC v2„ÅÆÈñãÁô∫„ÅØ„Åù„ÅÜ„ÅÑ„Å£„ÅüÊ©üËÉΩ„Çí‰ªò„ÅëÂä†„Åà„Çã„Å®„Å®„ÇÇ„Å´„ÄÅ„Ç¨„Çπ‰ª£„ÅÆ„Ç™„Éó„ÉÜ„Ç£„Éû„Ç§„Ç∫„Çí„ÅØ„Åã„Å£„Åü„ÅÆ„Åß„ÅÇ„Çã„ÄÇ
## Ê¶ÇË¶Å
JPYC v2„ÅÆ„Åì„Å®„Çí‰∏ÄË®Ä„Åß„Åæ„Å®„ÇÅ„Çã„ÄÅ**JPYC v2„ÅØERC20„Éà„Éº„ÇØ„É≥„Åß„ÅÇ„Çä„ÄÅË§áÊï∞„ÅÆ„Ç®„É≥„ÉÜ„Ç£„ÉÜ„Ç£„Å´„Çà„ÇãÈÄöË≤®Áô∫Ë°åÔºàMintÔºâ„Åå„Åß„Åç„Åü„Çä„ÄÅ„Ç≥„É≥„Éà„É©„ÇØ„Éà„ÅÆ‰∏ÄÊôÇÂÅúÊ≠¢ÔºàPauseÔºâ„Åå„Åß„Åç„Åü„Çä„ÄÅÁâπÂÆö„Ç¢„Ç´„Ç¶„É≥„Éà„ÅÆ„Éñ„É≠„ÉÉ„ÇØ„É™„Çπ„ÉàÂåñÔºàblocklistÔºâ„Åå„Åß„Åç„Åü„Çä„ÄÅ„Éà„Éº„ÇØ„É≥„Çí„É¨„Çπ„Ç≠„É•„Éº„Åô„Çã„Åì„Å®„Åå„Åß„Åç„Åü„Çä„ÄÅ„Éê„Ç∞„ÅÆ‰øÆÊ≠£„ÅÇ„Çã„ÅÑ„ÅØÊ©üËÉΩ„ÇíËøΩÂä†„Åô„Çã„Åü„ÇÅ„Å´„Çπ„Éû„Éº„Éà„Ç≥„É≥„Éà„É©„ÇØ„Éà„ÅÆ„Ç¢„ÉÉ„Éó„Ç∞„É¨„Éº„Éâ„Åå„Åß„Åç„Åü„Çä„Åô„Çã„Éó„É≠„Éà„Ç≥„É´„Å®„Å™„Å£„Å¶„ÅÑ„Çã**„ÄÇ

## „Éó„É≠„Éà„Ç≥„É´„ÅÆÊßãÈÄ†
![contractArchitecture](contractArchitecture.drawio.svg)

## Solidity„Éê„Éº„Ç∏„Éß„É≥
Solidity„ÅÆ„Éê„Éº„Ç∏„Éß„É≥„Å´„Å§„ÅÑ„Å¶„ÅØ„ÄÅ`pragma solidity 0.8.11`„Çí‰ΩøÁî®„Åó„Å¶„ÅÑ„Çã„ÄÇ

## Proxy

### UUPSÊñπÂºè„ÇíÊé°Áî®
JPYC v2„ÅØUUPSÊñπÂºè„ÅÆupgrade proxy pattern„ÇíÊé°Áî®„Åó„Å¶„ÅÑ„Çã„ÄÇÊé°Áî®„Åó„ÅüËÉåÊôØ„Å´„ÅØ‰ª•‰∏ã„ÅÆÁÇπ„Åå„ÅÇ„Çã„ÄÇ
- „Ç∑„É≥„Éó„É´„Åï
- „Ç¨„Çπ‰ª£„ÅåÂÆâ„ÅÑ
- upgradeability„ÅÆÊüîËªüÊÄß„ÅÆÈ´ò„Åï
- openzeppelinÊé®Â•®

upgradeÊñπÂºè„ÅÆÈÅ∏Êäû„Å´„ÅÇ„Åü„Å£„Å¶[transparentÊñπÂºè„ÄÅUUPSÊñπÂºè](https://docs.openzeppelin.com/contracts/4.x/api/proxy#transparent-vs-uups)„Åæ„Åü„ÅØEIP2535„Å´„Å§„ÅÑ„Å¶„ÅÆÊ§úË®é„ÇíÂÆüÊñΩ„Åó„Åü„ÄÇ


### UUPS Proxy Pattern
UUPSÊñπÂºè„ÅØopenzeppelin team„Å´„ÇÇÊé®Â•®„Åï„Çå„Å¶„ÅÑ„ÇãÁêÜÁî±„Å®„Åó„Å¶„ÄÅÂ§öÊ©üËÉΩ„ÅßËªΩÈáè„Å®„ÅÑ„ÅÜÁâπÂæ¥„ÇíÊåÅ„Å£„Å¶„ÅÑ„Çã„ÄÇ
UUPSÊñπÂºè„ÅÆÊßãÊàê
- Proxies
  
  UUPS proxies„ÅØERC1967Proxy„Ç≥„É≥„Éà„É©„ÇØ„Éà„Çí‰Ωø„Å£„Å¶„ÅÑ„Çã„ÄÇProxyËá™‰Ωì„ÅØ„Ç¢„ÉÉ„Éó„Ç∞„É¨„Éº„ÉâÂèØËÉΩ„Åß„ÅØ„Å™„ÅÑ„ÄÇÂëº„Å≥Âá∫„Åó„ÇíImplementationÂÅ¥„Å∏Ëª¢ÈÄÅÔºàdelegateÔºâ„Åó„Å¶„ÅÑ„Çã
- Implementation
  
  UUPS„ÅÆImplementation„ÅØUUPSUpgradeable„Ç≥„É≥„Éà„É©„ÇØ„Éà„ÇíÁ∂ôÊâø„Åó`upgradeTo`Èñ¢Êï∞„ÇíÊåÅ„Å§„ÄÇ„Åù„Åì„Åß„Ç¢„ÉÉ„Éó„Éá„Éº„Éà„Åó„Åü„ÅÑÊôÇ„Å´„ÄÅImplementation„Ç≥„É≥„Éà„É©„ÇØ„Éà„Åã„Çâ`upgradeTo`„Åæ„Åü„ÅØ`upgradeToAndCall`Èñ¢Êï∞„ÇíÂëº„Å≥Âá∫„Åó„Å¶„Ç¢„ÉÉ„Éó„Ç∞„É¨„Éº„Éâ„Åô„Çã„ÄÇ

### UUPS„Ç≥„É≥„Éà„É©„ÇØ„Éà„Å´„Å§„ÅÑ„Å¶
OpenZeppelin„ÅÆ[UUPS upgradeable pattern](https://github.com/OpenZeppelin/openzeppelin-contracts/tree/master/contracts/proxy)„ÇíÊé°Áî®„Åó„Å¶„ÅÑ„Çã„ÄÇÂ§âÊõ¥„Åó„ÅüÁÇπ„ÅØ`uint256[50] private _gap;`„ÇíËøΩÂä†„Åó„Å¶„ÅÑ„Çã„ÄÇ„Åì„Çå„ÅØÂ∞ÜÊù•ÁöÑ„Å´„Ç≥„É≥„Éà„É©„ÇØ„Éà„ÅÆÊõ¥Êñ∞Ôºà‰æãÔºöÊñ∞„Åó„ÅÑÁä∂ÊÖãÂ§âÊï∞„ÅÆËøΩÂä†Ôºâ„Åå„ÅÇ„ÇãÂ†¥Âêà„ÅÆ„Åü„ÇÅ„Å´Áî®ÊÑè„Åó„Å¶„ÅÑ„Çã„ÄÇ


#### Proxy.sol
- `_fallback`Èñ¢Êï∞Ôºöproxy„Å∏„ÅÆÂëº„Å≥Âá∫„Åó„ÇíimplementationÂÅ¥„Å∏Ëª¢ÈÄÅÔºàdelegateÔºâ„Åô„Çã„ÄÇ`_implementation`Èñ¢Êï∞„ÅØ`virtual`‰øÆÈ£æÂ≠ê„Åå„Å§„ÅÑ„Å¶„ÅÑ„Çã„ÅÆ„Åß„ÄÅ`ERC1967Proxy.sol`„Å´„Å¶override„Åó„Å¶„ÅÑ„Çã„ÄÇ

#### UUPSUpgradeable.sol
UUPS proxies„ÅÆ„É°„Ç´„Éã„Ç∫„É†„ÇíÊßãÊàê„Åô„ÇãÈáçË¶Å„Å™„Ç≥„É≥„Éà„É©„ÇØ„Éà„Åß„ÅÇ„Çã„ÄÇ„É°„Ç§„É≥„Å®„Å™„Çã`FiatTokenV1.sol`„ÅÆ„Ç≥„É≥„Éà„É©„ÇØ„Éà„Åå`UUPSUpgradeable`„Ç≥„É≥„Éà„É©„ÇØ„Éà„ÇíÁ∂ôÊâø„Åô„Çã„Åì„Å®„ÅßJPYC v2„ÅØupgradeability„ÇíÊåÅ„Å¶„Çã„Çà„ÅÜ„Å´„Å™„Çã„ÄÇ

Note: `_authorize`Èñ¢Êï∞„Å´Èñ¢„Åó„Å¶„ÅØoverride„Åó„Å¶„ÅÇ„Åí„ÇãÂøÖË¶Å„Åå„ÅÇ„Çã„ÄÇImplementation„ÅÆ„Ç≥„É≥„Éà„É©„ÇØ„Éà`FiatTokenV1`„Å´„Åä„ÅÑ„Å¶„ÅØ‰ª•‰∏ã„ÅÆ„Çà„ÅÜ„Å´‰øÆÈ£æÂ≠ê`onlyOnwer`„Çí„Å§„Åë„Çã„Åì„Å®„Åßonwer„Å´„ÅÆ„Åø„Ç¢„ÉÉ„Éó„Ç∞„É¨„Éº„ÉâÊ®©Èôê„Çí‰∏é„Åà„Å¶„ÅÑ„Çã„ÄÇ

``` 
    function _authorizeUpgrade(address newImplementation)
        internal
        override
        onlyOwner
    {}
```

#### ERC1967Upgrade.sol
„Åì„Çå„ÅØProxy contract„ÅÆÊú¨‰Ωì„Åß„ÄÅ`_logic`„ÄÅ`_data`„ÇíÂºïÊï∞„Å´„Åó„Å¶„Ç§„Éã„Ç∑„É£„É©„Ç§„Ç∫„Åï„Çå„Çã„ÄÇ


#### ERC1967Proxy.sol

## implementation

### explanation of implementation contract

#### Ownable.sol

#### Pausable.sol

#### Blocklistable.sol

#### Rescuable.sol

#### EIP712Domain.sol

#### EIP3009.sol

#### EIP2612.sol

#### FiatTokenV1

#### FiatTokenV2

### Note


## Contracts Address
- Contracts on Avalanche   
> Proxy
https://snowtrace.io/address/0x431D5dfF03120AFA4bDf332c61A6e1766eF37BDB#code
Implementation
https://snowtrace.io/address/0xf2fab05f26dc8da5a3f24d015fb043db7a8751cf#code
MinterAdmin
https://snowtrace.io/address/0xc6b1dc6c9ff85e968527f5c755fc07253a084247#code

## üìù License
Copyright ¬© 2022 [JPYC](https://jpyc.jp). <br />
This project is [MIT](https://github.com/jcam1/JPYCv2/blob/master/LICENSE) licensed.